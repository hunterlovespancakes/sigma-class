<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
</head>
<body style="background:black; color:white; font-family:Arial;">

<h2>ADMIN PANEL</h2>

<input id="password" placeholder="Admin Password">
<button onclick="login()">Login</button>

<div id="panel" style="display:none;">
    <h3>Live Messages</h3>
    <div id="messages"></div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();

function login() {
    const pass = document.getElementById("password").value;
    socket.emit("admin login", pass);
}

socket.on("admin success", () => {
    document.getElementById("panel").style.display = "block";
});

socket.on("admin fail", () => {
    alert("Wrong password");
});

socket.on("admin message", (data) => {
    const div = document.createElement("div");
    div.innerText = `[${data.room}] ${data.name}: ${data.message}`;
    document.getElementById("messages").appendChild(div);
});
</script>

</body>
</html>
